<!DOCTYPE html>
<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Young+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/rss/css/style.css">
    <title>euvs digest</title>
</head>

<body>
    <header id="header">
    </header>
    <div id="main">
    </div>
    <footer>
        daily digest by <a href="https://euventura.com.br" target="_blank">Euventura</a> - <a
            href="https://harmonista.org" target="_blank">harmonista ⌐◯ᵔ◯</a>
    </footer>
</body>

</html>
<script>
    function loadHeader() {
        fetch("editions/menu.html")
            .then(response => response.text())
            .then(data => {
                console.log(data)
                document.getElementById("header").innerHTML = data;

            }).finally(() => {

                reloadABehavior()
                document.getElementById("o-0").click();
            })
    }

    document.addEventListener('DOMContentLoaded', function () {
        loadHeader()

    });


    function reloadABehavior() {
        for (let i = 0; i < document.getElementsByTagName("a").length; i++) {

            document.getElementsByTagName("a")[i].onclick = function (event) {

                if (this.target == "_blank") {
                    return true;
                }
                event.preventDefault();
                fetch(this.href)
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById("main").innerHTML = "<section id='feed'>" + data + "</section>";
                    }).finally(() => {
                        reloadABehavior()
                    });
                return false;
            }
        }

    }



</script>